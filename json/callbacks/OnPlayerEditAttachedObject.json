{"name": "OnPlayerEditAttachedObject", "tags": ["player"], "kind": "callbacks", "notes": null, "warnings": "Editions should be discarded if response was '0' (cancelled). This must be done by storing the offsets etc. in an array BEFORE using EditAttachedObject.", "versions": "This callback was added in SA-MP 0.3e  and will not work in earlier versions!", "tips": null, "outdated": null, "lowercase": null, "description": "This callback is called when a player ends attached object edition mode.", "params_title": "(playerid, response, index, modelid, boneid, Float:fOffsetX, Float:fOffsetY, Float:fOffsetZ, Float:fRotX, Float:fRotY, Float:fRotZ, Float:fScaleX, Float:fScaleY, Float:fScaleZ)", "params_body": [{"name": "playerid", "description": "The ID of the player that ended edition mode"}, {"name": "response", "description": "0 if they cancelled (ESC) or 1 if they clicked the save icon."}, {"name": "modelid", "description": "The model of the attached object that was edited"}, {"name": "boneid", "description": "The bone of the attached object that was edited"}, {"name": "Float:fOffsetX", "description": "The X offset for the attached object that was edited"}, {"name": "Float:fOffsetY", "description": "The Y offset for the attached object that was edited"}, {"name": "Float:fOffsetZ", "description": "The Z offset for the attached object that was edited"}, {"name": "Float:fRotX", "description": "The X rotation for the attached object that was edited"}, {"name": "Float:fRotY", "description": "The Y rotation for the attached object that was edited"}, {"name": "Float:fRotZ", "description": "The Z rotation for the attached object that was edited"}, {"name": "Float:fScaleX", "description": "The X scale for the attached object that was edited"}, {"name": "Float:fScaleY", "description": "The Y scale for the attached object that was edited"}, {"name": "Float:fScaleZ", "description": "The Z scale for the attached object that was edited"}], "return_values": " 1 - Will prevent other scripts from receiving this callback.\n\n 0 - Indicates that this callback will be passed to the next script.\n\n It is always called first in filterscripts.", "pawn_code": ["enum attached_object_data\n{\n    Float:ao_x,\n    Float:ao_y,\n    Float:ao_z,\n    Float:ao_rx,\n    Float:ao_ry,\n    Float:ao_rz,\n    Float:ao_sx,\n    Float:ao_sy,\n    Float:ao_sz\n}\n\u00a0\nnew ao[MAX_PLAYERS][MAX_PLAYER_ATTACHED_OBJECTS][attached_object_data];\n\u00a0\n// The data should be stored in the above array when attached objects are attached.\n\u00a0\npublic OnPlayerEditAttachedObject(playerid, response, index, modelid, boneid, Float:fOffsetX, Float:fOffsetY, Float:fOffsetZ, Float:fRotX, Float:fRotY, Float:fRotZ, Float:fScaleX, Float:fScaleY, Float:fScaleZ)\n{\n    if(response)\n    {\n        SendClientMessage(playerid, COLOR_GREEN, \"Attached object edition saved.\");\n\u00a0\n        ao[playerid][index][ao_x] = fOffsetX;\n        ao[playerid][index][ao_y] = fOffsetY;\n        ao[playerid][index][ao_z] = fOffsetZ;\n        ao[playerid][index][ao_rx] = fRotX;\n        ao[playerid][index][ao_ry] = fRotY;\n        ao[playerid][index][ao_rz] = fRotZ;\n        ao[playerid][index][ao_sx] = fScaleX;\n        ao[playerid][index][ao_sy] = fScaleY;\n        ao[playerid][index][ao_sz] = fScaleZ;\n    }\n    else\n    {\n        SendClientMessage(playerid, COLOR_RED, \"Attached object edition not saved.\");\n\u00a0\n        new i = index;\n        SetPlayerAttachedObject(playerid, index, modelid, boneid, ao[playerid][i][ao_x], ao[playerid][i][ao_y], ao[playerid][i][ao_z], ao[playerid][i][ao_rx], ao[playerid][i][ao_ry], ao[playerid][i][ao_rz], ao[playerid][i][ao_sx], ao[playerid][i][ao_sy], ao[playerid][i][ao_sz]);\n    }\n    return 1;\n}"], "code": [], "related_fn": [" EditAttachedObject: Edit an attached object.\n", " SetPlayerAttachedObject: Attach an object to a player\n"], "related_cb": []}