{"name": "OnPlayerStateChange", "tags": ["player"], "kind": "callbacks", "notes": "This callback can also be called by NPC.", "warnings": null, "versions": null, "tips": null, "outdated": null, "lowercase": null, "description": "This callback is called when a player changes state. For example, when a player changes from being the driver of a vehicle to being on-foot.", "params_title": "(playerid, newstate, oldstate)", "params_body": [{"name": "playerid", "description": "The ID of the player that changed state."}, {"name": "newstate", "description": "The player's new state."}, {"name": "oldstate", "description": "The player's previous state."}], "return_values": " It is always called first in filterscripts.", "pawn_code": ["public OnPlayerStateChange(playerid, newstate, oldstate)\n{\n    if(oldstate == PLAYER_STATE_ONFOOT && newstate == PLAYER_STATE_DRIVER) // Player entered a vehicle as a driver\n    {\n        new vehicleid = GetPlayerVehicleID(playerid);\n        AddVehicleComponent(vehicleid, 1010); // Add NOS to the vehicle\n    }\n    return 1;\n}"], "code": [], "related_fn": [" GetPlayerState: Get a player's current state.\n", " GetPlayerSpecialAction: Get a player's current special action.\n", " SetPlayerSpecialAction: Set a player's special action.\n"], "related_cb": [" OnPlayerInteriorChange: Called when a player changes interior.\n", " GetPlayerState: Get a player's current state.\n", " GetPlayerSpecialAction: Get a player's current special action.\n", " SetPlayerSpecialAction: Set a player's special action.\n"]}