{"name": "OnPlayerClickTextDraw", "tags": ["player", "textdraw"], "kind": "callbacks", "notes": null, "warnings": "\n The clickable area is defined by TextDrawTextSize. The x and y parameters passed to that function must not be zero or negative.\n Do not use CancelSelectTextDraw unconditionally within this callback. This results in an infinite loop.", "versions": "This callback was added in SA-MP 0.3e and will not work in earlier versions!", "tips": null, "outdated": null, "lowercase": null, "description": "This callback is called when a player clicks on a textdraw or cancels the select mode with the Escape key.", "params_title": "(playerid, Text:clickedid)", "params_body": [{"name": "playerid", "description": "The ID of the player that clicked on the textdraw."}, {"name": "clickedid", "description": "The ID of the clicked textdraw. INVALID_TEXT_DRAW if selection was cancelled."}], "return_values": " It is always called first in filterscripts so returning 1 there also blocks other scripts from seeing it.", "pawn_code": ["new Text:gTextDraw;\n\u00a0\npublic OnGameModeInit()\n{\n    gTextDraw = TextDrawCreate(10.000000, 141.000000, \"MyTextDraw\");       \n    TextDrawTextSize(gTextDraw,60.000000, 20.000000);\n    TextDrawAlignment(gTextDraw,0);\n    TextDrawBackgroundColor(gTextDraw,0x000000ff);\n    TextDrawFont(gTextDraw,1);\n    TextDrawLetterSize(gTextDraw,0.250000, 1.000000);\n    TextDrawColor(gTextDraw,0xffffffff);\n    TextDrawSetProportional(gTextDraw,1);\n    TextDrawSetShadow(gTextDraw,1);\n    TextDrawSetSelectable(gTextDraw, 1);\n    return 1;\n}\n\u00a0\npublic OnPlayerKeyStateChange(playerid, newkeys, oldkeys)\n{\n    if(newkeys == KEY_SUBMISSION)\n    {\n        TextDrawShowForPlayer(playerid, gTextDraw);\n        SelectTextDraw(playerid, 0xFF4040AA);\n    }\n    return 1;\n}\n\u00a0\npublic OnPlayerClickTextDraw(playerid, Text:clickedid)\n{\n    if(clickedid == gTextDraw)\n    {\n         SendClientMessage(playerid, 0xFFFFFFAA, \"You clicked on a textdraw.\");\n         CancelSelectTextDraw(playerid);\n         return 1;\n    }\n    return 0;\n}"], "code": [], "related_fn": [" OnPlayerClickPlayerTextDraw: Called when a player clicks on a player-textdraw.\n", " OnPlayerClickPlayer: Called when a player click on another.\n"], "related_cb": []}