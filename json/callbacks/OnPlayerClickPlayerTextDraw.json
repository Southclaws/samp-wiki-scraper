{"name": "OnPlayerClickPlayerTextDraw", "tags": ["player", "textdraw", "playertextdraw"], "kind": "callbacks", "notes": null, "warnings": "When a player presses ESC to cancel selecting a textdraw, OnPlayerClickTextDraw is called with a textdraw ID of 'INVALID_TEXT_DRAW'. OnPlayerClickPlayerTextDraw won't be called also.", "versions": "This callback was added in SA-MP 0.3e and will not work in earlier versions!", "tips": null, "outdated": null, "lowercase": null, "description": "This callback is called when a player clicks on a player-textdraw. It is not called when player cancels the select mode (ESC) - however, OnPlayerClickTextDraw is.", "params_title": "(playerid, PlayerText:playertextid)", "params_body": [{"name": "playerid", "description": "The ID of the player that selected a textdraw"}, {"name": "playertextid", "description": "The ID of the player-textdraw that the player selected."}], "return_values": " It is always called first in filterscripts so returning 1 there also blocks other scripts from seeing it.", "pawn_code": ["new PlayerText:gPlayerTextDraw[MAX_PLAYERS];\n\u00a0\npublic OnPlayerConnect(playerid)\n{\n    // Create the textdraw\n    gPlayerTextDraw[playerid] = CreatePlayerTextDraw(playerid, 10.000000, 141.000000, \"MyTextDraw\");\n    PlayerTextDrawTextSize(playerid, gPlayerTextDraw[playerid], 60.000000, 20.000000);\n    PlayerTextDrawAlignment(playerid, gPlayerTextDraw[playerid],0);\n    PlayerTextDrawBackgroundColor(playerid, gPlayerTextDraw[playerid],0x000000ff);\n    PlayerTextDrawFont(playerid, gPlayerTextDraw[playerid], 1);\n    PlayerTextDrawLetterSize(playerid, gPlayerTextDraw[playerid], 0.250000, 1.000000);\n    PlayerTextDrawColor(playerid, gPlayerTextDraw[playerid], 0xffffffff);\n    PlayerTextDrawSetProportional(playerid, gPlayerTextDraw[playerid], 1);\n    PlayerTextDrawSetShadow(playerid, gPlayerTextDraw[playerid], 1);\n\u00a0\n    // Make it selectable\n    PlayerTextDrawSetSelectable(playerid, gPlayerTextDraw[playerid], 1);  \n\u00a0\n    // Show it to the player\n    PlayerTextDrawShow(playerid, gPlayerTextDraw[playerid]);\n    return 1;\n}\n\u00a0\npublic OnPlayerKeyStateChange(playerid, newkeys, oldkeys)\n{\n    if(newkeys == KEY_SUBMISSION)\n    {\n        SelectTextDraw(playerid, 0xFF4040AA);\n    }\n    return 1;\n}\n\u00a0\npublic OnPlayerClickPlayerTextDraw(playerid, PlayerText:playertextid)\n{\n    if(playertextid == gPlayerTextDraw[playerid])\n    {\n         SendClientMessage(playerid, 0xFFFFFFAA, \"You clicked on a textdraw.\");\n         CancelSelectTextDraw(playerid);\n         return 1;\n    }\n    return 0;\n}"], "code": [], "related_fn": [" PlayerTextDrawSetSelectable: Sets whether a player-textdraw is selectable through SelectTextDraw\n", " OnPlayerClickTextDraw: Called when a player clicks on a textdraw.\n", " OnPlayerClickPlayer: Called when a player click on another.\n"], "related_cb": []}