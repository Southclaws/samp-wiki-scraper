{"name": "OnPlayerPrivmsg", "tags": ["player"], "kind": "callbacks", "notes": null, "warnings": "You can't return 0 and block private messages in a filterscript, it must be used in a gamemode", "versions": null, "tips": null, "outdated": null, "lowercase": null, "description": "This callback is called when a player sends a private message through the native PM system /pm.", "params_title": "(playerid, recieverid, text[])", "params_body": [{"name": "playerid", "description": "The player who sent a message."}, {"name": "recieverid", "description": "The player who receives the message."}, {"name": "text[]", "description": "The actual message."}], "return_values": "\n\n\n\nImportantNote\n\nYou can't return 0 and block private messages in a filterscript, it must be used in a gamemode\n\n", "pawn_code": ["public OnPlayerPrivmsg(playerid, recieverid, text[])\n{\n    if(muted[playerid]) return 0;\n    return 1;\n}", "if(!strcmp(\"/pm\", cmdtext, true))\n{\n    tmp = strtok(cmdtext,idx);\n    if(!strlen(tmp)) return SendClientMessage(playerid,0xFF0000FF,\"USAGE: /PM (id) (message)\");\n    new id = strval(tmp);\n    gMessage = strrest(cmdtext,idx);\n    if(!strlen(gMessage)) return SendClientMessage(playerid,0xFF0000FF,\"Usage: /pm (id) (message)\");\t\t\n    if(!IsPlayerConnected(id)) return SendClientMessage(playerid,0xFF0000FF,\"/pm\u00a0:Invalid ID\");\t\n    GetPlayerName(id,iName,sizeof(iName));\n    GetPlayerName(playerid,pName,sizeof(pName));\n    format(Message,sizeof(Message),\">> %s(%i): %s\",iName,id,gMessage);\n    SendClientMessage(playerid,0xFFD720FF,Message);\n    format(Message,sizeof(Message),\"** %s(%i): %s\",pName,playerid,gMessage);\n    SendClientMessage(id,0xFFD720FF,Message);\n    PlayerPlaySound(id,1085,0.0,0.0,0.0);\n    return 1;\n}"], "code": [], "related_fn": [" OnPlayerCommandText: Called when a player types a command.\n", " OnPlayerText: Called when a player sends a message via the chat.\n"], "related_cb": []}