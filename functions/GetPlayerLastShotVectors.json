{"name": "GetPlayerLastShotVectors", "notes": null, "warnings": "\nThis function will only work when lag compensation is enabled.\nIf the player hit nothing, the hit positions will be 0. This means you can't currently calculate how far a bullet travels through open air.\n\n", "versions": "This function was added in SA-MP 0.3z and will not work in earlier versions!", "tips": null, "outdated": null, "lowercase": null, "description": "Retrieves the start and end (hit) position of the last bullet a player fired.", "params_title": "(playerid, &Float:fOriginX, &Float:fOriginY, &Float:fOriginZ, &Float:fHitPosX, &Float:fHitPosY, &Float:fHitPosZ)", "params_body": [{"name": "playerid", "description": "The ID of the player to get the last bullet shot information of."}, {"name": "&Float:fOriginX", "description": "A float variable in which to save the X coordinate of where the bullet originated from."}, {"name": "&Float:fOriginY", "description": "A float variable in which to save the Y coordinate of where the bullet originated from."}, {"name": "&Float:fOriginZ", "description": "A float variable in which to save the Z coordinate of where the bullet originated from."}, {"name": "&Float:fHitPosX", "description": "A float variable in which to save the X coordinate of where the bullet hit."}, {"name": "&Float:fHitPosY", "description": "A float variable in which to save the Y coordinate of where the bullet hit."}, {"name": "&Float:fHitPosY", "description": "A float variable in which to save the Z coordinate of where the bullet hit."}], "return_values": [" 1: The function executed successfully. \n", " 0: The function failed to execute. The player specified does not exist.\n", " The position of the last bullet is stored in the specified variables."], "pawn_code": ["public OnPlayerCommandText(playerid, cmdtext[])\n{\n    if(strcmp(cmdtext, \"/lastshot\", true) == 0)\n    {\n        new lsString[128],\n            Float:fOriginX, Float:fOriginY, Float:fOriginZ,\n            Float:fHitPosX, Float:fHitPosY, Float:fHitPosZ;\n\u00a0\n        GetPlayerLastShotVectors(playerid, fOriginX, fOriginY, fOriginZ, fHitPosX, fHitPosY, fHitPosZ);\n        format(lsString, 128, \"Last Shot Information: Origin: %f, %f, %f. Hit position: %f, %f, %f\", fOriginX, fOriginY, fOriginZ, fHitPosX, fHitPosY, fHitPosZ);\n        SendClientMessage(playerid, -1, lsString);\n        return 1;\n    }\n    return 0;\n}"], "code": [], "related_fn": [" GetPlayerWeaponData: Find out information about weapons a player has.\n", " GetPlayerWeapon: Check what weapon a player is currently holding.\n", " VectorSize: Get the length (norm) of a vector.\n", " OnPlayerWeaponShot: Called when a player fires a weapon.\n"], "related_cb": [" OnPlayerWeaponShot: Called when a player fires a weapon.\n"]}